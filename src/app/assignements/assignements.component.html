<main class="container">
    <!--
    <button class="ajouterBtn" mat-flat-button color="accent" (click)="onAddAssignmentBtnClick()">
    Ajouter assignment
    </button>-->

    <div class="ajouterBtn">
        <a routerLink="/add">
            <button class="ajouterBtn" mat-flat-button color="accent"
            >
                Ajouter Assignment
            </button>
        </a>
    </div>
    
    <mat-list>
    @for (assignment of assignments | async; track assignment.nom){
        <nav><a routerLink="/assignment/{{assignment.id}}">
        <h3 mat-subheader>{{assignment.dateDeRendu | date}}</h3>
        <mat-list-item (click)="assignmentClique(assignment)" [disabled]="!isLoggedIn()">
            @if (assignment.rendu){
                <p appRendu>
                    Le devoir {{assignment.nom}} a été rendu le 
                    {{assignment.dateDeRendu | date: 'dd/MM/yyyy'}}.
                </p>
            }
            @else {
                <p appNonRendu>
                    Le devoir {{assignment.nom}} doit être rendu le
                    {{assignment.dateDeRendu | date: 'dd/MM/yyyy'}}.
                </p>
            }
        </mat-list-item>
        <mat-divider></mat-divider>
        </a></nav>
        }

        <div class="pagination-info">
            <button mat-button (click)="goToFirstPage()" [disabled]="isFirstPage()">
                <mat-icon>first_page</mat-icon>
            </button>
            <button mat-button (click)="goToPrevPage()" [disabled]="isFirstPage()">Previous</button>
            <button mat-button (click)="goToNextPage()" [disabled]="isLastPage()">Next</button>
            <button mat-button (click)="goToLastPage()" [disabled]="isLastPage()">
                <mat-icon>last_page</mat-icon>
            </button>
        </div>

        <!-- Ajout d'un sélecteur pour la taille de page -->
    <div class="page-size-selector">
        <label for="limit">Items per page:</label>
        <mat-select [(value)]="limit" (selectionChange)="onPageSizeChange($event)" id="pageSize">
        <mat-option *ngFor="let size of pageSizeOptions" [value]="size">{{size}}</mat-option>
        </mat-select>
    </div>
        <span class="pagination-info">Page {{currentPage()}} / {{totalPages}}</span>

 <!--      <mat-paginator [length]="totalDocs || 0"
              [pageSize]="limit || 10"
              aria-label="Select page"
              (page)="onPageChange($event)">
        </mat-paginator>
    -->
        
        
    </mat-list>

    
    <!--
    <app-assignment-detail [assignmentTransmis]="assignmentSelectionne"></app-assignment-detail>
    -->
</main>

<!--
@if(formVisible){
<app-add-assignment 
(nouvelAssignment)="onNouvelAssignment($event)">
</app-add-assignment>
}
-->

